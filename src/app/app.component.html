<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * Delete the template below * * * * * * * * * * -->
<!-- * * * * * * * to get started with your project! * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<!-- Toolbar -->
<!-- <app-navbar></app-navbar> -->
<div *ngIf="this.inSession" class="content" role="main">
  <!-- PALETTE SECTION -->

  <div class="palette-div" style="overflow: auto">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button
          class="nav-link active"
          id="elements-tab"
          data-bs-toggle="tab"
          data-bs-target="#elements"
          type="button"
          role="tab"
          aria-controls="elements"
          aria-selected="true"
        >
          Elements
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link"
          id="templates-tab"
          data-bs-toggle="tab"
          data-bs-target="#templates"
          type="button"
          role="tab"
          aria-controls="templates"
          aria-selected="false"
        >
          Template
        </button>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div
        class="tab-pane fade show active"
        id="elements"
        role="tabpanel"
        aria-labelledby="elements-tab"
      >
        <div
          class="palette-container"
          cdkDropListGroup
          cdkDropList
          cdkDropListSortingDisabled
        >
          <button
            class="palette-item"
            (click)="addComponent('nav')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event, 'nav')"
          >
            Navbar
          </button>
          <button
            class="palette-item"
            (click)="addComponent('link')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event, 'link')"
          >
            Link
          </button>

          <!-- text-dropdown-menu start -->
          <div
            class="palette-item sub-menu"
            id="subMenuItem2"
            #subMenuItem2
            style="padding: 0px; padding-top: 0px"
          >
            <button
              class="sub-menu-button palette-item"
              (focus)="isDisabled = false"
              (focusout)="timerDisable()"
            >
              Text*
            </button>
            <div class="sub-menu-dropdown">
              <button
                class="palette-item"
                (click)="addComponent('header')"
                cdkDrag
                (cdkDragEnded)="onDragEndedAddComponent($event, 'header')"
                [disabled]="isDisabled"
              >
                Header
              </button>

              <button
                class="palette-item"
                (click)="addComponent('paragraph')"
                cdkDrag
                (cdkDragEnded)="onDragEndedAddComponent($event, 'paragraph')"
                [disabled]="isDisabled"
              >
                Paragraph
              </button>

              <button
                class="palette-item"
                (click)="addComponent('label')"
                cdkDrag
                (cdkDragEnded)="onDragEndedAddComponent($event, 'label')"
                [disabled]="isDisabled"
              >
                Label
              </button>
            </div>
          </div>
          <!-- text-dropdown end -->

          <!-- input-dropdown-menu start -->
          <div
            class="palette-item sub-menu"
            id="subMenuItem"
            #subMenuItem
            style="padding: 0px; padding-top: 0px"
          >
            <button
              class="sub-menu-button palette-item"
              (focus)="isDisabled = false"
              (focusout)="timerDisable()"
            >
              Input*
            </button>
            <div class="sub-menu-dropdown">
              <button
                class="palette-item"
                (click)="addComponent('button')"
                cdkDrag
                (cdkDragEnded)="onDragEndedAddComponent($event, 'button')"
                [disabled]="isDisabled"
              >
                Button
              </button>

              <button
                class="palette-item"
                (click)="addComponent('dropdown')"
                cdkDrag
                (cdkDragEnded)="onDragEndedAddComponent($event, 'dropdown')"
                [disabled]="isDisabled"ms
              >
                Dropdown
              </button>
              <button
                class="palette-item"
                (click)="addComponent('checkbox')"
                cdkDrag
                (cdkDragEnded)="onDragEndedAddComponent($event, 'checkbox')"
                [disabled]="isDisabled"
              >
                Checkbox
              </button>

              <button
                class="palette-item"
                (click)="addComponent('radio')"
                cdkDrag
                (cdkDragEnded)="onDragEndedAddComponent($event, 'radio')"
                [disabled]="isDisabled"
              >
                Radio
              </button>
              <button
                class="palette-item"
                (click)="addComponent('input')"
                cdkDrag
                (cdkDragEnded)="onDragEndedAddComponent($event, 'input')"
                [disabled]="isDisabled"
              >
                Input Field
              </button>
              <button
                class="palette-item"
                (click)="addComponent('textbox')"
                cdkDrag
                (cdkDragEnded)="onDragEndedAddComponent($event, 'textbox')"
                [disabled]="isDisabled"
              >
                Textbox
              </button>
              <button
                class="palette-item"
                (click)="addComponent('datepicker')"
                cdkDrag
                (cdkDragEnded)="onDragEndedAddComponent($event, 'datepicker')"
                [disabled]="isDisabled"
              >
                DatePicker
              </button>
            </div>
          </div>

          <!-- input-dropdown-menu end -->

          <button
            class="palette-item"
            (click)="addComponent('modal')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event, 'modal')"
          >
            Modal
          </button>
          <button
            class="palette-item"
            (click)="addComponent('popup')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event, 'popup')"
            [hidden]="true"
          >
            Popup
          </button>
          <button
            class="palette-item"
            (click)="addComponent('img')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event, 'img')"
          >
            Image
          </button>
          <button
            class="palette-item"
            (click)="addComponent('table')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event, 'table')"
          >
            Table
          </button>
          <button
            class="palette-item"
            (click)="addComponent('youtube')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event, 'youtube')"
          >
          Iframe
        </button>
        </div>
      </div>
      <div
        class="tab-pane fade"
        id="templates"
        role="tabpanel"
        aria-labelledby="templates-tab"
      >
        <div
          class="tab-pane fade show active"
          id="elements"
          role="tabpanel"
          aria-labelledby="elements-tab"
        >
          <button class="palette-item" (click)="addComponentHomePage()">
            Home Page
          </button>
          <button class="palette-item" (click)="addComponentLogin()">
            Login
          </button>

          <!-- <button class="palette-item" (click)="addComponentImageLabel()">
            Image Label
          </button> -->

          <button class="palette-item" (click)="addComponentSearchScreen()">
            Search Screen
          </button>
        </div>
      </div>
      <button 
      class="palette-item" 
      (click)="logout()"
      style="background-color: maroon;"
      >
      Logout
    </button>
    </div>

    <!---------Component List code starts here------->
    <div cdkDropListGroup cdkDropList (cdkDropListDropped)="drop($event)">
      Component List
      <div
        class="component-list"
        *ngFor="let component of componentList; let i = index"
        cdkDrag
        [ngSwitch]="this.componentList[i].props.typeObj"
        [ngStyle]="{
          'background-color':
            this.componentList[i].props.selected == true
              ? 'white'
              : this.componentList[i].props.selected == false
              ? '  #16324f'
              : null,
          color:
            this.componentList[i].props.selected == true
              ? '#16324f'
              : this.componentList[i].props.selected == false
              ? 'white'
              : null
        }"
      >
        <div
          class="component-items"
          *ngSwitchCase="'buttonDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Button
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'checkboxDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Checkbox
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'datepickerDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Datepicker
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'dropdownDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Dropdown
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'headerDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Header
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'imgDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Image
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'inputDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Input Field
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'labelDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Label
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'linkDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Link
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'modalDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Modal
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'navDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Navigation Bar
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'paragraphDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Paragraph
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'radioDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Radio
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'tableDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Table
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'textboxDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} Textbox
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
        <div
          class="component-items"
          *ngSwitchCase="'youtubeDrag'"
          (click)="clickHandler(this.componentList[i])"
        >
          {{ i + 1 }} iFrame
          <button
            class="component-button-remove"
            (click)="deleteComponent(this.componentList[i])"
          ></button>
          <button
            class="component-button-hide"
            (click)="hideComponent(this.componentList[i])"
          ></button>
        </div>
      </div>
    </div>
    <!---------Component List code ends here------->
  </div>

  <!-- CANVAS SECTION -->

  <div id="canvas-container">
    <div
      id="canvas"
      class="solid-lines"
      #canvas
      (mouseenter)="domInsideCanvas = true"
      (mouseleave)="domInsideCanvas = false"
    >
      <div id="canvasBody">
        <app-wrapper
          *ngFor="let component of componentList; let i = index"
          class="wrapper componentHover"
          (click)="clickHandler(component)"
          cdkDrag
          (cdkDragEnded)="onDragEnd(component)"
          [childComp]="component"
          [canvasRef]="component.canvas"
          [componentList]="componentList"
          [mousePositionX]="mousePositionX"
          [mousePositionY]="mousePositionY"
          [canvasLeft]="canvasLeft"
          [canvasTop]="canvasTop"
          [canvasW]="canvasW"
          [ngClass]="{ 'nav-wrapper': component.props.typeObj == 'nav' }"
          [whatComponent]="whatComponent"
        >
        </app-wrapper>
      </div>
    </div>
  </div>

  <!-- CODE SECTION -->

  <div id="code-container">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button
          class="nav-link active"
          id="properties-tab"
          data-bs-toggle="tab"
          data-bs-target="#properties"
          type="button"
          role="tab"
          aria-controls="properties"
          aria-selected="true"
        >
          Properties
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link"
          id="css-tab"
          data-bs-toggle="tab"
          data-bs-target="#css"
          type="button"
          role="tab"
          aria-controls="css"
          aria-selected="false"
        >
          CSS
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link"
          id="code-tab"
          data-bs-toggle="tab"
          data-bs-target="#code"
          type="button"
          role="tab"
          aria-controls="code"
          aria-selected="false"
        >
          CODE
        </button>
      </li>
    </ul>
    <div class="tab-content tab-container" id="myTabContent">
      <div
        class="tab-pane fade show active"
        id="properties"
        role="tabpanel"
        aria-labelledby="properties-tab"
      >
        <app-property
          [property]="selected"
          [selectedIdx]="selectedComponent"
          [compList]="componentList"
          (addAllCSSRule)="addAllCSSRule($event)"
          (cssReceiveMessage)="cssReceiveMessage()"
          (clearCss)="clearCss()"
        ></app-property>
      </div>
      <div
        class="tab-pane fade css-textarea-container"
        id="css"
        role="tabpanel"
        aria-labelledby="css-tab"
      >
        <h3
          style="background-color: #2e9c6b; margin: 0"
          (click)="addAllCSSRule(cssTextArea.value)"
          (click)="cssReceiveMessage()"
        >
          Save CSS
        </h3>

        <textarea
          style="margin: 0; width: 100%"
          cols="30"
          rows="5"
          #cssTextArea
          name="css-textarea"
          id="css-textarea"
        ></textarea>
      </div>
      <div
        class="tab-pane fade"
        id="code"
        role="tabpanel"
        aria-labelledby="code-tab"
      >
        <button class="btnCopy" (click)="copyMessage(htmlCode)">Copy</button>
        <button class="btnCopy" (click)="downloadCode(htmlCode)">
          Download
        </button>
        <button class="btnCopy" (click)="buildCode(htmlCode)">Build</button>
        <code [innerText]="htmlCode"> </code>
      </div>
    </div>
  </div>
</div>
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content above * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * End of Placeholder * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<router-outlet *ngIf="!inSession"></router-outlet>
<!-- <app-app-login></app-app-login> -->